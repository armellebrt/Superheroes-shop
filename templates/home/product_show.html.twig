{% extends 'base.html.twig' %}

{% block title %}Hello HomeController!{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('assets/css/home.css') }}"/>
{% endblock %}

{% block body %}

    {% block header %}{{ parent() }}{% endblock %}
    {% set out_of_stock = (product.stock == 0) %}
    <button class="btn btn-primary mt-3 ms-3 position-absolute" onClick="window.history.back();">Retour</button>

    <div id="" class="d-flex flex-column mx-auto justify-content-center align-items-center">
        <h2 class="mt-3">{{ product.name }}</h2>
            <div id="single-product-card" class="d-flex justify-content-center align-items-center text-center card shadow-sm py-3 my-2">
                <a href="{{ asset(product.image) }}">
                <img class="img_product" src="{{ asset(product.image) }}"
                     onerror="this.src='{{ asset("images/placeholder.png") }}'" alt="produit" width="300"/>
                </a>
                <div class="col-6 mx-auto">
                    <div class="mt-3">
                        <h4>{{ product.name }}</h4>
                        <h6 class="mt-0 text-black-50">{{ product.sku }}</h6>
                    </div>

                    {% if out_of_stock%}
                        <div class="out_of_order_product_view d-flex align-items-center justify-content-center">
                            <i class="out_of_order_product_view bi bi-cart-x-fill justify-self-end"></i>
                            <p class="mb-0 ms-2">Rupture de stock</p>
                        </div>
                    {% endif %}

                    <div class="d-flex justify-content-between total font-weight-bold my-4">
                        <span>Total</span><strong>{{ product.price }} â‚¬</strong></div>
                        <button class="btn btn-success" {% if out_of_stock %} disabled {% endif %}>Ajouter au panier</button>
                    </div>
            </div>
    </div>

{% endblock %}


